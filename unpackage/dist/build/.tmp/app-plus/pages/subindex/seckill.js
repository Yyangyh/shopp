(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/subindex/seckill"],{"00cc":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement;t._self._c},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},"1c72":function(t,e,a){"use strict";var i=a("80b7"),n=a.n(i);n.a},"2aae":function(t,e,a){"use strict";(function(t){a("fc5f"),a("921b");i(a("66fd"));var e=i(a("c950"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("6e42")["createPage"])},"74f9":function(t,e,a){"use strict";a.r(e);var i=a("bf05"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);e["default"]=n.a},"80b7":function(t,e,a){},bf05:function(t,e,a){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(){return a.e("pages/common/returns").then(a.bind(null,"641d"))},s={components:{returns:n},data:function(){return{title:"限时抢购",data:"",show:0,index:0,time_data:"",state:"",hour:0,minute:"",second:"",no_data:""}},methods:{jump:function(e,a,n){console.log(t(this.data[a]," at pages\\subindex\\seckill.vue:98"));var s={id:n,price:this.data[a].price,goods_price:this.data[a].goods_price,sell:this.data[a].sell,spec_name:this.data[a].spec_name,seckill_id:this.data[a].seckill_goods_id};i.navigateTo({url:e+"?data="+JSON.stringify(s)})},choice:function(t){var e=this;e.show=t,this.index=t,this.state=this.time_data[t].state,clearInterval(this.times);var a=this.time_data;"抢购中"==a[t].flag?this.state=1:this.state=0;var i,n=new Date;i=1==this.state?a[t].time-n.getHours():a[t].time-n.getHours()-1;var s=59-n.getMinutes(),r=60-n.getSeconds();this.hour=i,this.minute=s,this.second=r,this.times=setInterval(function(){e.second--},1e3),this.service.entire(this,"post",this.service.api_root.subindex.goods_list,{time:this.time_data[t].time},function(t,e){var a=e.data.data,i=!0,n=!1,s=void 0;try{for(var r,o=a[Symbol.iterator]();!(i=(r=o.next()).done);i=!0){var c=r.value;c.percentage=100-(c.total-c.sell)/c.total*100}}catch(d){n=!0,s=d}finally{try{i||null==o.return||o.return()}finally{if(n)throw s}}t.data=e.data.data})}},onShow:function(){this.service.entire(this,"get",this.service.api_root.subindex.time_list,{},function(t,e){if(""!=e.data){t.no_data=2;for(var a=t.index,i=Object.keys(e.data),n=[],s=0;s<i.length;s++){var r=i[s],o=void 0;o="抢购中"==e.data[r].flag?1:0,n.push({time:r,flag:e.data[r].flag,state:o})}"抢购中"==n[a].flag?t.state=1:t.state=0,t.time_data=n;var c,d=new Date;c=1==t.state?n[a].time-d.getHours():n[a].time-d.getHours()-1;var l=59-d.getMinutes(),u=60-d.getSeconds();t.hour=c,t.minute=l,t.second=u,t.times=setInterval(function(){t.second--},1e3),0==e.code&&t.service.entire(t,"post",t.service.api_root.subindex.goods_list,{time:Object.keys(e.data)[0]},function(t,e){var a=e.data.data,i=!0,n=!1,s=void 0;try{for(var r,o=a[Symbol.iterator]();!(i=(r=o.next()).done);i=!0){var c=r.value;c.percentage=100-(c.total-c.sell)/c.total*100}}catch(d){n=!0,s=d}finally{try{i||null==o.return||o.return()}finally{if(n)throw s}}t.data=e.data.data})}else t.no_data=1})},onHide:function(){clearInterval(this.times)},watch:{second:function(t,e){0==t&&(this.minute--,this.second=59)},minute:function(t,e){-1==t&&(this.hour--,this.minute=59,this.service.entire(this,"post",this.service.api_root.subindex.goods_list,{time:this.time_data[1]},function(t,e){var a=e.data.data,i=!0,n=!1,s=void 0;try{for(var r,o=a[Symbol.iterator]();!(i=(r=o.next()).done);i=!0){var c=r.value;c.percentage=100-(c.total-c.sell)/c.total*100}}catch(d){n=!0,s=d}finally{try{i||null==o.return||o.return()}finally{if(n)throw s}}t.data=e.data.data}))},hour:function(t,e){-1==t&&(this.hour=0,this.show=0,clearInterval(this.times),this.index=0,this.service.entire(this,"get",this.service.api_root.subindex.time_list,{},function(t,e){for(var a=t.index,i=Object.keys(e.data),n=[],s=0;s<i.length;s++){var r=i[s],o=void 0;o="抢购中"==e.data[r].flag?1:0,n.push({time:r,flag:e.data[r].flag,state:o})}"抢购中"==n[a].flag?t.state=1:t.state=0,t.time_data=n;var c,d=new Date;c=1==t.state?n[a].time-d.getHours():n[a].time-d.getHours()-1;var l=59-d.getMinutes(),u=60-d.getSeconds();t.hour=c,t.minute=l,t.second=u,t.times=setInterval(function(){t.second--},1e3),0==e.code&&t.service.entire(t,"post",t.service.api_root.subindex.goods_list,{time:Object.keys(e.data)[0]},function(t,e){var a=e.data.data,i=!0,n=!1,s=void 0;try{for(var r,o=a[Symbol.iterator]();!(i=(r=o.next()).done);i=!0){var c=r.value;c.percentage=100-(c.total-c.sell)/c.total*100}}catch(d){n=!0,s=d}finally{try{i||null==o.return||o.return()}finally{if(n)throw s}}t.data=e.data.data})}))}}};e.default=s}).call(this,a("0de9")["default"],a("6e42")["default"])},c950:function(t,e,a){"use strict";a.r(e);var i=a("00cc"),n=a("74f9");for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);a("1c72");var r=a("2877"),o=Object(r["a"])(n["default"],i["a"],i["b"],!1,null,"2964a517",null);e["default"]=o.exports}},[["2aae","common/runtime","common/vendor"]]]);