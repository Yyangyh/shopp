(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/threeLayers/fill_in"],{"10cc":function(e,t,n){"use strict";var r=n("7705"),a=n.n(r);a.a},"140f":function(e,t,n){"use strict";n.r(t);var r=n("8152"),a=n.n(r);for(var i in r)"default"!==i&&function(e){n.d(t,e,function(){return r[e]})}(i);t["default"]=a.a},"1a0e":function(e,t,n){"use strict";n.r(t);var r=n("30be"),a=n("140f");for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);n("10cc");var o=n("2877"),s=Object(o["a"])(a["default"],r["a"],r["b"],!1,null,"fd7cbaba",null);t["default"]=s.exports},"30be":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=(e._self._c,e.__map(e.additional_data,function(t,n){var r=e.__map(t.ResourceOrderExtendInfoItemList,function(t,n){var r=String(t.ResourceOrderExtendInfoItemID);return{$orig:e.__get_orig(t),m0:r}});return{$orig:e.__get_orig(t),l0:r}}));e.$mp.data=Object.assign({},{$root:{l1:n}})},a=[];n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a})},"6ee3":function(e,t,n){"use strict";(function(e){n("fc5f"),n("921b");r(n("66fd"));var t=r(n("1a0e"));function r(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("6e42")["createPage"])},7705:function(e,t,n){},8152:function(e,t,n){"use strict";(function(e,r){function a(e){return s(e)||o(e)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function o(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function s(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=function(){return n.e("pages/common/returns").then(n.bind(null,"641d"))},l={components:{returns:u},data:function(){return{title:"订单填写",id:"",scen_id:"",chiose_time:"",data:"",Price:"",max_num:"",buy_num:1,default_news:"",Arr_news:[],taker_name:"",taker_pho:"",additional_data:"",current:0}},methods:{emption:function(){if(""!=this.taker_name&&""!=this.taker_pho){var t=[],n=!0,a=!1,i=void 0;try{for(var o,s=this.Arr_news[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value,l={},d=!0,c=!1,f=void 0;try{for(var h,v=u[Symbol.iterator]();!(d=(h=v.next()).done);d=!0){var _=h.value;if("证件类型"==_.name&&0==_.type_index)return void e.showToast({icon:"none",title:"游客信息不能为空"});"身份证"==_.value&&(l.IdCardType=1),"证件号"==_.name&&(l.IdCardNo=_.value),"姓名"==_.name&&(l.Cname=_.value),"联系电话"==_.name&&(l.ContactInfo=_.value)}}catch(W){c=!0,f=W}finally{try{d||null==v.return||v.return()}finally{if(c)throw f}}t.push(l)}}catch(W){a=!0,i=W}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}for(var m=0;m<t.length;m++)for(var y=t[m],p=Object.values(y),g=0;g<p.length;g++){var b=p[g];if(""==b)return void e.showToast({icon:"none",title:"游客信息不能为空"})}var x={id:this.scen_id,ResourceID:this.id,UseDate:this.chiose_time,Quantity:this.buy_num,contact_info:{Name:this.taker_name,Mobile:this.taker_pho}};if(x.passener_info_list=t,""!=this.additional_data){var I=[];console.log(r(this.additional_data," at pages\\threeLayers\\fill_in.vue:218"));var w=!0,A=!1,L=void 0;try{for(var O,T=this.additional_data[Symbol.iterator]();!(w=(O=T.next()).done);w=!0){var R=O.value,S={};if(1==R.Type||3==R.Type){var E=[],k={};k.id=R.Arr[R.Arr_index].id,k.content="",E.push(k),S.id=R.ResourceOrderExtendInfoID,S.items=E}else if(2==R.Type){var C=[],D=!0,N=!1,j=void 0;try{for(var P,J=R.arr_value[Symbol.iterator]();!(D=(P=J.next()).done);D=!0){var M=P.value,$={};$.id=M,$.content="",C.push($)}}catch(W){N=!0,j=W}finally{try{D||null==J.return||J.return()}finally{if(N)throw j}}S.id=R.ResourceOrderExtendInfoID,S.items=C}else if(4==R.Type){var Q=[],U={id:0};U.content=R.text_value,Q.push(U),S.id=R.ResourceOrderExtendInfoID,S.items=Q}I.push(S)}}catch(W){A=!0,L=W}finally{try{w||null==T.return||T.return()}finally{if(A)throw L}}for(var q=0;q<I.length;q++){var z=I[q];if(""==z.items)return void e.showToast({icon:"none",title:"附加信息不能为空"});var B=!0,F=!1,G=void 0;try{for(var H,K=z.items[Symbol.iterator]();!(B=(H=K.next()).done);B=!0){var V=H.value;if((0==V.id||void 0==V.id)&&""==V.content)return void e.showToast({icon:"none",title:"附加信息不能为空"})}}catch(W){F=!0,G=W}finally{try{B||null==K.return||K.return()}finally{if(F)throw G}}}x.ItemAddInfo=I}else x.ItemAddInfo=[];console.log(r(x," at pages\\threeLayers\\fill_in.vue:275")),this.service.entire(this,"post",this.service.api_root.threeLayers.scen_Confirm,x,function(t,n){console.log(r(n," at pages\\threeLayers\\fill_in.vue:278")),0==n.code?e.navigateTo({url:"/pages/threeLayers/order_pay?id="+n.data.orderid+"&name="+t.data.Name}):e.showToast({icon:"none",title:n.msg})})}else e.showToast({icon:"none",title:"取票人信息不能为空"})},bindPickerChange:function(e,t){this.Arr_news[t][0].type_index=e.target.value,this.Arr_news[t][0].value=this.Arr_news[t][0].type[e.target.value]},bindInput:function(e,t,n){this.Arr_news[t][n].value=e.target.value},chiosePicker:function(e,t){this.additional_data[t].Arr_index=e.target.value,this.additional_data=JSON.parse(JSON.stringify(this.additional_data))},checkboxChange:function(e,t){this.additional_data[t].arr_value=a(e.target.value)},addInput:function(e,t){this.additional_data[t].text_value=e.target.value},change_num:function(e){if(1==e){if(1==this.buy_num)return;this.buy_num-=1,this.Arr_news.pop()}else{if(this.buy_num==this.max_num)return;this.buy_num+=1,this.Arr_news.push(JSON.parse(this.default_news))}}},onLoad:function(e){this.chiose_time=e.chiose_time,this.scen_id=e.scen_id,this.id=e.id,this.Price=e.Price,this.service.entire(this,"get",this.service.api_root.subindex.scen_ConfirmDetail,{ResourceIDList:e.id,end_date:e.endDate},function(e,t){e.data=t.data.info.ResourceList[0],e.max_num=t.data.info.ResourceList[0].MaxQuantity,console.log(r(t.data.information.ResourceList[0].CustomerInfoItemList," at pages\\threeLayers\\fill_in.vue:334"));var n=t.data.information.ResourceList[0].CustomerInfoItemList,a=[];n.forEach(function(e,t){var n={};1==e.Model&&(n.value="",n.name=e.Name,"证件类型"==n.name?(n.type=["请选择","身份证"],n.type_index=0,a.unshift(n)):a.push(n))}),e.default_news=JSON.stringify(a),e.Arr_news.push(a),e.additional_data=t.data.info.ResourceList[0].ResourceOrderExtendInfoList;var i=!0,o=!1,s=void 0;try{for(var u,l=e.additional_data[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){var d=u.value;1==d.Type||3==d.Type?function(){var e=[{text:"请选择"}];d.ResourceOrderExtendInfoItemList.forEach(function(t,n){var r={};r.text=t.Content,r.text_value="",r.id=t.ResourceOrderExtendInfoItemID,e.push(r)}),d.Arr_index=0,d.Arr=e}():4==d.Type?d.text_value="":2==d.Type&&(d.arr_value=[])}}catch(c){o=!0,s=c}finally{try{i||null==l.return||l.return()}finally{if(o)throw s}}console.log(r(e.additional_data," at pages\\threeLayers\\fill_in.vue:379")),console.log(r(e.Arr_news," at pages\\threeLayers\\fill_in.vue:380"))})}};t.default=l}).call(this,n("6e42")["default"],n("0de9")["default"])}},[["6ee3","common/runtime","common/vendor"]]]);