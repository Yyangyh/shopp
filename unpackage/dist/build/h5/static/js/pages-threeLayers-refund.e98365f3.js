(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-threeLayers-refund"],{"19f4":function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,".order[data-v-2ea1d07e]{margin-top:%?20?%;background:#fff;color:#333;padding:%?24?% %?20?%}.order .order_num[data-v-2ea1d07e]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:%?28?%;position:relative}.order .order_num .num_two[data-v-2ea1d07e]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3;overflow:hidden;height:%?120?%}.order .order_num .num_two .specs[data-v-2ea1d07e]{color:grey;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.order .order_num .num_two .specs uni-text[data-v-2ea1d07e]{margin-right:%?10?%;margin-bottom:%?10?%;font-size:%?24?%;display:block;padding:%?10?% %?8?%;background:#f1f1f1}.order .order_num .num_three[data-v-2ea1d07e]{margin-left:%?20?%}.order .order_num .num_three uni-view[data-v-2ea1d07e]{white-space:nowrap}.order .order_num .num_three uni-view[data-v-2ea1d07e]:nth-of-type(2){font-size:%?24?%;color:#999}.order uni-image[data-v-2ea1d07e]{width:%?220?%;height:%?142?%;margin-right:%?24?%}.order .order_handle[data-v-2ea1d07e]{text-align:right;padding-bottom:%?20?%;position:absolute;right:0;bottom:0}.order .order_handle uni-text[data-v-2ea1d07e]{display:inline-block;text-align:center;width:%?160?%;height:%?66?%;font-size:%?28?%;color:#333;border:%?2?% solid #666;border-radius:%?66?%;line-height:%?66?%}.order .order_total[data-v-2ea1d07e]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;font-size:%?28?%;border-top:%?2?% solid #f1f1f1;padding:%?30?% 0 %?10?% 0}.order .order_total .total_two[data-v-2ea1d07e]{color:#ff431d}.refund_chiose[data-v-2ea1d07e]{padding:0 %?20?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;font-size:%?28?%;color:#333}.refund_chiose .chiose_one[data-v-2ea1d07e]{width:43%;border:%?2?% solid #eee;padding:%?20?% %?20?%}.picker[data-v-2ea1d07e]{-webkit-box-flex:2;-webkit-flex-grow:2;-ms-flex-positive:2;flex-grow:2}.refund_chiose .chiose_one uni-view[data-v-2ea1d07e]:first-of-type{text-align:center}.refund_chiose .chiose_explain[data-v-2ea1d07e]{font-size:%?24?%;color:#999}.refund_form[data-v-2ea1d07e]{font-size:%?32?%;padding:0 %?20?%}.refund_form .from_one[data-v-2ea1d07e]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;border-bottom:%?2?% solid #f1f1f1;height:%?100?%}.refund_form .from_one uni-view[data-v-2ea1d07e]:first-of-type{margin-right:%?20?%}.refund_form .from_one uni-input[data-v-2ea1d07e]{-webkit-box-flex:2;-webkit-flex-grow:2;-ms-flex-positive:2;flex-grow:2}.from_money[data-v-2ea1d07e]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;color:#ff431d}.from_num[data-v-2ea1d07e]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.from_num uni-view[data-v-2ea1d07e]{margin-left:%?20?%}.from_num uni-text[data-v-2ea1d07e]{display:inline-block;width:%?45?%;height:%?45?%;border-radius:50%;color:#1d9dff;border:1px solid #1d9dff;text-align:center;line-height:22px}.refund_form .from_two[data-v-2ea1d07e]{padding-top:%?20?%;border-bottom:%?2?% solid #f1f1f1}.refund_form .from_two uni-textarea[data-v-2ea1d07e]{font-size:%?28?%}.image_list[data-v-2ea1d07e]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:%?20?%}.image_list .add[data-v-2ea1d07e]{background:#f1f1f1;color:#ccc;font-size:%?120?%;height:%?230?%;width:%?230?%;line-height:%?230?%;text-align:center}.image_list .image_box[data-v-2ea1d07e]{position:relative}.image_list .img[data-v-2ea1d07e]{height:%?230?%;width:%?230?%}.image_list .close[data-v-2ea1d07e]{height:%?40?%;width:%?40?%;position:absolute;top:%?5?%;right:%?5?%}.show[data-v-2ea1d07e]{border-color:#ff431d!important}.add_show[data-v-2ea1d07e]{display:none}uni-button[data-v-2ea1d07e]{background:#1d74ff;color:#fff;height:%?80?%;line-height:%?80?%;font-size:%?30?%;border-radius:%?80?%;margin:%?20?%}",""])},"22b0":function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,".top[data-v-55612199]{height:%?105?%;padding:0 %?44?%;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;position:fixed;top:0;z-index:99;left:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;font-size:%?32?%;font-weight:700;color:#333;background:#fff;-webkit-box-shadow:0 %?2?% %?4?% 0 rgba(0,0,0,.1);box-shadow:0 %?2?% %?4?% 0 rgba(0,0,0,.1)}.top_enlarge[data-v-55612199]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;height:100%;width:%?90?%}.top uni-image[data-v-55612199]{height:%?40?%;width:%?40?%}.top uni-text[data-v-55612199]:nth-of-type(2){width:%?40?%;display:inline-block}",""])},"2ba5":function(e,t,i){"use strict";i.r(t);var a=i("b748"),n=i("eac9");for(var s in n)"default"!==s&&function(e){i.d(t,e,function(){return n[e]})}(s);i("87c0");var o=i("2877"),r=Object(o["a"])(n["default"],a["a"],a["b"],!1,null,"2ea1d07e",null);t["default"]=r.exports},"3b04":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={props:["titles"],data:function(){return{}},methods:{returns:function(){history.back()}}};t.default=a},"40a3":function(e,t,i){var a=i("19f4");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("d6b83fb4",a,!0,{sourceMap:!1,shadowMode:!1})},"5d33":function(e,t,i){"use strict";var a=i("c982"),n=i.n(a);n.a},"641d":function(e,t,i){"use strict";i.r(t);var a=i("a9fb"),n=i("8d98");for(var s in n)"default"!==s&&function(e){i.d(t,e,function(){return n[e]})}(s);i("5d33");var o=i("2877"),r=Object(o["a"])(n["default"],a["a"],a["b"],!1,null,"55612199",null);t["default"]=r.exports},"75fc":function(e,t,i){"use strict";i.r(t);var a=i("a745"),n=i.n(a);function s(e){if(n()(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}var o=i("774e"),r=i.n(o),d=i("c8bb"),l=i.n(d);function u(e){if(l()(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e))return r()(e)}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function f(e){return s(e)||u(e)||c()}i.d(t,"default",function(){return f})},"87c0":function(e,t,i){"use strict";var a=i("40a3"),n=i.n(a);n.a},"8d98":function(e,t,i){"use strict";i.r(t);var a=i("3b04"),n=i.n(a);for(var s in a)"default"!==s&&function(e){i.d(t,e,function(){return a[e]})}(s);t["default"]=n.a},a3fa:function(e,t,i){"use strict";var a=i("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(i("75fc")),s=a(i("db0c")),o=a(i("641d")),r={components:{returns:o.default},data:function(){return{title:"退款/退货申请",show:0,add_show:1,type:1,data:"",goods_data:"",order_data:"",return_only:["请选择"],return_money:["请选择"],index:0,image_list:[],images:[],num:"",price:"",reason:"",msg:""}},methods:{bindPickerChange:function(e){this.index=e.target.value,this.reason=e.target.value},chiose:function(e){this.show=e,this.index=0},change_num:function(e){2!=this.type&&(1==e?1==this.num?this.num=1:this.num--:this.num==this.goods_data.buy_number?this.num=this.goods_data.buy_number:this.num++)},add_image:function(){var e=this;uni.chooseImage({count:1,sourceType:["album"],success:function(t){uni.uploadFile({url:e.service.api_root.common.upload_image,filePath:t.tempFilePaths[0],name:"file",formData:{token:uni.getStorageSync("token")},success:function(i){0==JSON.parse(i.data).code&&(e.image_list.push(t.tempFilePaths[0]),e.images.push(JSON.parse(i.data).data.file),3==e.image_list.length&&(e.add_show=2))}})}})},deletes:function(e){this.image_list.splice(e,1),this.images.splice(e,1),this.image_list.length<3&&(this.add_show=1)},ascertain:function(){var e=new Object;if(1==this.show&&(e.number=this.num),e.price=this.price,e.images=this.images,e.type=this.show,0==this.show&&(e.reason=this.return_only[this.reason]),1==this.show&&(e.reason=this.return_money[this.reason]),"请选择"==e.reason||""==this.price||this.msg.length<5||0==this.images.length)uni.showToast({icon:"none",title:"请完整填写退款信息"});else{e.msg=this.msg;var t,i=(0,s.default)(e);if(-1==i.indexOf(void 0)&&-1==i.indexOf(void 0))e.order_id=this.oid,e.order_detail_id=this.id,t=1==this.type?this.service.api_root.threeLayers.Create:this.service.api_root.threeLayers.group_Create,this.service.entire(this,"post",t,e,function(e,t){uni.showToast({icon:"none",title:t.msg}),0==t.code&&setTimeout(function(){uni.navigateBack({delta:2})},1500)});else uni.showToast({icon:"none",title:"请完整填写退款信息"})}}},onLoad:function(e){console.log(e),e.id?(this.oid=e.oid,this.id=e.id,this.service.entire(this,"get",this.service.api_root.threeLayers.Aftersale,{oid:e.oid,did:e.id},function(e,t){var i,a;e.data=t.data,e.goods_data=t.data.goods,e.num=t.data.goods.buy_number,e.order_data=t.data.order,e.price=t.data.order.pay_price,(i=e.return_only).push.apply(i,(0,n.default)(t.data.return_only_money_reason)),(a=e.return_money).push.apply(a,(0,n.default)(t.data.return_money_goods_reason_list))})):(this.type=2,this.oid=e.oid,this.service.entire(this,"get",this.service.api_root.threeLayers.group_Aftersale,{oid:e.oid},function(e,t){var i,a;e.data=t.data,e.goods_data=t.data.goods[0],e.num=1,e.order_data=t.data.order.order,console.log(e.order_data),e.price=t.data.order.order.price,(i=e.return_only).push.apply(i,(0,n.default)(t.data.return_only_money_reason)),(a=e.return_money).push.apply(a,(0,n.default)(t.data.return_money_goods_reason_list))}))}};t.default=r},a9fb:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"top"},[i("v-uni-view",{staticClass:"top_enlarge",on:{click:function(t){t=e.$handleEvent(t),e.returns()}}},[i("v-uni-image",{attrs:{src:"/static/image/return.png",mode:"widthFix"}})],1),i("v-uni-text",[e._v(e._s(e.titles))]),i("v-uni-text")],1)},n=[];i.d(t,"a",function(){return a}),i.d(t,"b",function(){return n})},b748:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"status_bar"}),i("returns",{attrs:{titles:e.title}}),i("v-uni-view",{staticClass:"order"},[i("v-uni-view",{staticClass:"order_num"},[i("v-uni-view",{staticClass:"num_one"},[i("v-uni-image",{attrs:{src:1==e.type?e.goods_data.images:e.goods_data.thumb,mode:"aspectFill"}})],1),i("v-uni-view",{staticClass:"num_two"},[i("v-uni-view",{},[e._v(e._s(e.goods_data.title))]),i("v-uni-view",{staticClass:"specs"},e._l(e.goods_data.spec,function(t,a){return i("v-uni-text",{key:a},[e._v(e._s(t.type)+"："+e._s(t.value))])}),1)],1),i("v-uni-view",{staticClass:"num_three"},[i("v-uni-view",{},[e._v("￥"+e._s(e.goods_data.price))]),i("v-uni-view",{},[e._v("数量：X"+e._s(1==e.type?e.goods_data.buy_number:e.goods_data.groupnum))])],1)],1),i("v-uni-view",{staticClass:"order_total"},[i("v-uni-view",{staticClass:"total_one"},[e._v("订单总价")]),i("v-uni-view",{staticClass:"total_two"},[e._v(e._s(1==e.type?e.order_data.pay_price:e.order_data.price))])],1)],1),i("v-uni-view",{staticClass:"refund_chiose"},[i("v-uni-view",{staticClass:"chiose_one",class:{show:0==e.show},on:{click:function(t){t=e.$handleEvent(t),e.chiose(0)}}},[i("v-uni-view",{},[e._v("仅退款")]),i("v-uni-view",{staticClass:"chiose_explain"},[e._v("未收到货(未签收),协商同意前提下")])],1),i("v-uni-view",{staticClass:"chiose_one",class:{show:1==e.show},on:{click:function(t){t=e.$handleEvent(t),e.chiose(1)}}},[i("v-uni-view",{},[e._v("退款退货")]),i("v-uni-view",{staticClass:"chiose_explain"},[e._v("已收到货,需要退换已收到的货物")])],1)],1),i("v-uni-view",{staticClass:"refund_form"},[i("v-uni-view",{staticClass:"from_one"},[i("v-uni-view",{},[e._v("退款/退货原因：")]),i("v-uni-picker",{directives:[{name:"show",rawName:"v-show",value:0==e.show||""==e.show,expression:"show ==0 || show == ''"}],staticClass:"picker",attrs:{value:e.index,range:e.return_only},on:{change:function(t){t=e.$handleEvent(t),e.bindPickerChange(t)}}},[i("v-uni-view",{staticClass:"uni-input"},[e._v(e._s(e.return_only[e.index]))])],1),i("v-uni-picker",{directives:[{name:"show",rawName:"v-show",value:1==e.show,expression:"show == 1"}],staticClass:"picker",attrs:{value:e.index,range:e.return_money},on:{change:function(t){t=e.$handleEvent(t),e.bindPickerChange(t)}}},[i("v-uni-view",{staticClass:"uni-input"},[e._v(e._s(e.return_money[e.index]))])],1)],1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:1==e.show,expression:"show == 1"}],staticClass:"from_one"},[i("v-uni-view",{},[e._v("退款数量：")]),i("v-uni-view",{staticClass:"from_num"},[i("v-uni-text",{on:{click:function(t){t=e.$handleEvent(t),e.change_num(1)}}},[e._v("-")]),i("v-uni-view",[e._v(e._s(e.num))]),i("v-uni-text",{on:{click:function(t){t=e.$handleEvent(t),e.change_num(2)}}},[e._v("+")])],1)],1),i("v-uni-view",{staticClass:"from_one"},[i("v-uni-view",{},[e._v("退款金额：")]),i("v-uni-view",{staticClass:"from_money"},[e._v("￥"),i("v-uni-input",{attrs:{type:"text"},model:{value:e.price,callback:function(t){e.price=t},expression:"price"}})],1)],1),i("v-uni-view",{staticClass:"from_two"},[i("v-uni-view",{},[e._v("退款说明")]),i("v-uni-textarea",{attrs:{value:"",maxlength:"200",placeholder:"退款说明 5~200 个字符之间"},model:{value:e.msg,callback:function(t){e.msg=t},expression:"msg"}})],1),i("v-uni-view",{staticClass:"from_two"},[i("v-uni-view",{},[e._v("上传凭证（最多上传三张）")]),i("v-uni-view",{staticClass:"image_list"},[e._l(e.image_list,function(t,a){return i("v-uni-view",{staticClass:"image_box"},[i("v-uni-image",{key:a,staticClass:"img",attrs:{src:t,mode:"aspectFill"}}),i("v-uni-image",{staticClass:"close",attrs:{src:"../../static/image/secondary/close2.png",mode:""},on:{click:function(t){t=e.$handleEvent(t),e.deletes(a)}}})],1)}),i("v-uni-view",{staticClass:"add",class:{add_show:2==e.add_show},on:{click:function(t){t=e.$handleEvent(t),e.add_image()}}},[e._v("+")])],2)],1)],1),i("v-uni-button",{on:{click:function(t){t=e.$handleEvent(t),e.ascertain()}}},[e._v("确认")])],1)},n=[];i.d(t,"a",function(){return a}),i.d(t,"b",function(){return n})},c982:function(e,t,i){var a=i("22b0");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("cdb7ee24",a,!0,{sourceMap:!1,shadowMode:!1})},eac9:function(e,t,i){"use strict";i.r(t);var a=i("a3fa"),n=i.n(a);for(var s in a)"default"!==s&&function(e){i.d(t,e,function(){return a[e]})}(s);t["default"]=n.a}}]);